{"version":3,"sources":["Components/Navbar.jsx","Components/LoginForm.jsx","Components/SignupForm.jsx","Containers/AuthContainer.jsx","Components/Home.jsx","Components/Users.jsx","Components/PrivateRoute.jsx","App.js","index.js"],"names":["Navbar","logoutUser","isUserLoggedIn","to","onClick","LoginForm","username","password","handleChange","loginUser","onSubmit","e","preventDefault","type","name","value","placeholder","onChange","SignupForm","signupUser","AuthContainer","state","password_digest","inputName","target","inputValue","setState","a","axios","post","logInUser","console","log","data","props","setUser","payload","history","push","renderLoginForm","renderSignupForm","this","path","render","React","Component","Home","Users","users","get","map","user","i","className","key","id","PrivateRoute","component","otherProps","App","checkUserLoggedIn","renderAuthContainer","routeProps","withRouter","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.4ea73be9.chunk.js","sourcesContent":["import React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst Navbar = ({ logoutUser, isUserLoggedIn }) => {\n  if (isUserLoggedIn) {\n    return (\n      <nav>\n        <Link to='/' >Home</Link>{\" \"}\n        <Link to='/users' >Users</Link>{\" \"}\n        <button onClick={logoutUser}>Log-Out</button>\n      </nav>\n    )\n  } else {\n    return (\n      <nav>\n        <Link to='/' >Home</Link>{\" \"}\n        <Link to='/login' >Log-In</Link>{\" \"}\n        <Link to='/signup' >Sign-Up</Link>{\" \"}\n      </nav>\n    )\n  }\n}\n\nexport default Navbar\n","import React from 'react';\n\nconst LoginForm = ({\n  username,\n  password,\n  handleChange,\n  loginUser\n}) => {\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    loginUser()\n  }\n\n  return (\n    <div>\n      <h3> Log-In </h3>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"username\"\n          value={username}\n          placeholder=\"username\"\n          onChange={handleChange}\n        />\n        <input\n          type=\"password\"\n          name=\"password\"\n          value={password}\n          placeholder=\"***\"\n          onChange={handleChange}\n        />\n        <input type=\"submit\" value=\"log-in\" />\n      </form>\n    </div>\n  )\n}\n\nexport default LoginForm;\n","import React from 'react';\n\nconst SignupForm = ({\n  username,\n  password,\n  handleChange,\n  signupUser\n}) => {\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    signupUser()\n  }\n\n  return (\n    <div>\n      <h3> Sign-Up </h3>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"username\"\n          value={username}\n          placeholder=\"Username\"\n          onChange={handleChange}\n        />\n        <input\n          type=\"password\"\n          name=\"password\"\n          value={password}\n          placeholder=\"***\"\n          onChange={handleChange}\n        />\n        <input type=\"submit\" value=\"Signup\" />\n      </form>\n    </div>\n  )\n}\n\nexport default SignupForm\n","import React from 'react'\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport LoginForm from '../Components/LoginForm'\nimport SignupForm from '../Components/SignupForm.jsx'\nimport axios from 'axios'\n\nclass AuthContainer extends React.Component {\n  state = {\n    username:'',\n    password_digest:'',\n  }\n\n  handleChange = (e) => {\n    const inputName = e.target.name\n    const inputValue = e.target.value\n    this.setState({\n      [inputName]: inputValue\n    })\n  }\n\n  signupUser = async () => {\n    try {\n      await axios.post('/auth/signup', this.state)\n      this.logInUser()\n    } catch (err) {\n      console.log('ERROR', err)\n    }\n  }\n\n  loginUser = async () => {\n    try {\n      const { data } = await axios.post('/auth/login', this.state)\n      this.props.setUser(data.payload)\n      this.props.history.push('/users')\n    } catch (err) {\n      console.log('ERROR', err)\n    }\n  }\n\n  renderLoginForm = () => {\n    const { username, password } = this.state\n    return <LoginForm\n            handleChange={this.handleChange}\n            username={username}\n            password={password}\n            loginUser={this.loginUser}\n          />\n  }\n\n  renderSignupForm = () => {\n    const { username, password } = this.state\n    return <SignupForm\n            handleChange={this.handleChange}\n            username={username}\n            password={password}\n            signupUser={this.signupUser}\n          />\n  }\n\n  render() {\n    if (!this.props.isUserLoggedIn) {\n      return (\n        <div>\n          <h2>AuthContainer</h2>\n          <Switch>\n            <Route path='/login' render={this.renderLoginForm} />\n            <Route path='/signup' render={this.renderSignupForm}/>\n          </Switch>\n        </div>\n      )\n    } else {\n      return (\n        <Redirect to='/' />\n      )\n    }\n  }\n}\n\nexport default AuthContainer\n","import React from 'react'\n\nconst Home = () => {\n  return (\n    <div>\n      <h1>Welcome</h1>\n    </div>\n  )\n}\n\nexport default Home\n","import React, { Component } from \"react\";\nimport axios from 'axios';\n\nclass Users extends Component {\n  constructor() {\n    super()\n\n    this.state = {\n      users: []\n    }\n  }\n\n  async componentDidMount() {\n    try {\n      let { data } = await axios.get('/users')\n      this.setState({ users: data.payload })\n    } catch (err) {\n      console.log('ERROR', err)\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>Users</h2>\n        <ul>\n        {this.state.users.map((user, i) => {\n          return (\n            <li className=\"user-item\" key={i}>\n              <p><span>id: </span>{user.id}</p>\n              <p><span>user: </span>{user.username}</p>\n            </li>\n          )\n        })}\n        </ul>\n      </div>\n    )\n  }\n}\n\nexport default Users;\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\n\nconst PrivateRoute = (props) => {\n  const isUserLoggedIn = props.isUserLoggedIn\n  const Component = props.component\n  const otherProps = { ...props }\n\n  if(isUserLoggedIn) {\n    return <Route {...otherProps} component={Component}/>\n  }\n  return <Redirect to='/login' />\n}\n\nexport default PrivateRoute\n","import React from 'react';\nimport axios from 'axios'\nimport './App.css';\nimport Navbar from './Components/Navbar'\nimport { Switch, Route, withRouter } from 'react-router-dom'\nimport AuthContainer from './Containers/AuthContainer'\nimport Home from './Components/Home'\nimport Users from './Components/Users'\nimport PrivateRoute from './Components/PrivateRoute'\n\nclass App extends React.Component {\n  state = {\n    user: null,\n    isUserLoggedIn: false\n  }\n\n  setUser = (user) => {\n    this.setState({\n      user: user,\n      isUserLoggedIn: true\n    })\n  }\n\n  checkUserLoggedIn = async () => {\n    try {\n      const { data } = await axios.get('/auth/isUserLoggedIn')\n      if (data.payload) {\n        this.setUser(data.payload)\n      } else {\n        return\n      }\n    } catch (err) {\n      console.log('ERROR', err)\n    }\n  }\n\n  componentDidMount() {\n    this.checkUserLoggedIn()\n  }\n\n  logoutUser = async () => {\n    try {\n      await axios.get('/auth/logout')\n      this.setState({\n        user: null,\n        isUserLoggedIn: false\n      })\n      this.props.history.push('/')\n    } catch (err) {\n      console.log('ERROR', err)\n    }\n  }\n\n  renderAuthContainer = (routeProps) => {\n    console.log('auth')\n    return (\n      <AuthContainer setUser={this.setUser} isUserLoggedIn={this.state.isUserLoggedIn} {...routeProps}/>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Navbar logoutUser={this.logoutUser} isUserLoggedIn={this.state.isUserLoggedIn}/>\n        <Switch>\n          <Route path='/login' render={this.renderAuthContainer}/>\n          <Route path='/signup' render={this.renderAuthContainer}/>\n          <PrivateRoute path='/users' component={Users} isUserLoggedIn={this.state.isUserLoggedIn}/>\n          <Route path='/' component={Home}/>\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom'\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n, document.getElementById('root'));\n"],"sourceRoot":""}